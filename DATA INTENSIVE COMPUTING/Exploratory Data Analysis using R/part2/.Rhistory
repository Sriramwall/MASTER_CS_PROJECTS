# input file : 'InfluenzaNationalSummary.csv'
Summary<-read.csv("Sum.csv", header=T)
# input file : 'InfluenzaNationalSummary.csv'
Summary<-read.csv("Sum.csv", header=T)
# input file : 'InfluenzaNationalSummary.csv'
Summary<-read.csv("Sum.csv", header=T)
library(plotly)
# input file : 'InfluenzaNationalSummary.csv'
Summary<-read.csv("Sum.csv", header=T)
View(Summary)
#Keeping X-axis as Week Column
xaxis <- c(Summary$WEEK)
#Plotting y axis with Influenza A and InFluenzaB
y1 <- Summary$TOTAL.A
y1
y2 <- Summary$TOTAL.B
y2
#PLotting a scattered line of PercentPositive Column
percentPositive <- Summary$PERCENT.POSITIVE
percentPositive
#forming the data frame with Xaxis and y1 and y2
data <- data.frame(xaxis,y1,y2)
data
plotgraph <- plot_ly(data, x = c(xaxis)) %>%
add_trace(y = ~y1, type = 'bar', name = 'A',marker = list(color = 'yellow')) %>%
add_trace(y = ~y2, type = 'bar',name = 'B',marker = list(color = 'green')) %>%
add_trace(y = ~percentPositive, type = 'scatter', mode = 'lines', name = 'Percent Positive',yaxis = 'y2',
line = list(color='black')) %>%
add_trace(y = ~c(Summary$PERCENT.A), type = 'scatter', mode = 'lines', name = 'Percent Positive',
yaxis = 'y2',line = list(color='red', dash = 'dot')) %>%
add_trace(y = ~c(Summary$PERCENT.B), type = 'scatter', mode = 'lines', name = 'Percent Positive',
yaxis = 'y2',line = list(color='green', dash = 'dot')) %>%
layout(xaxis = list(type = 'category',title = "Week"),yaxis = list(seq(0,18000,by=2000),title = 'Number of positive specimens'),
yaxis2 = list(range = c(0,30),overlaying = 'y',side = 'right', title = "Percent Positive"),
barmode = 'overlay', title='Influenza Positive Tests Reported to CDC by U.S. Clinical Laboratories,\n
National Summary, 2017-2018 Season')
plotgraph
